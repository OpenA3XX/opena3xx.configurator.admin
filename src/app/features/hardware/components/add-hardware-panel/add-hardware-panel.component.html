<opena3xx-page-layout
  title="Add Hardware Panel"
  subtitle="Create a new hardware panel configuration"
  icon="add_box"
  [actions]="pageActions"
  (actionClick)="onPageAction($event)">

  <opena3xx-loading-wrapper
    [loading]="loading()"
    [error]="error()"
    [config]="{ showRetry: true, retryMessage: 'Try Again' }"
    (retry)="onRetry()">

    <div class="form-container">
      <form [formGroup]="addHardwarePanelForm" (ngSubmit)="onSubmit()">

        <!-- Panel Name -->
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Panel Name *</mat-label>
          <input
            matInput
            formControlName="name"
            placeholder="Enter panel name"
            [disabled]="submitting()">
          <mat-error *ngIf="isFieldInvalid('name')">
            {{ getErrorMessage('name') }}
          </mat-error>
        </mat-form-field>

        <!-- Aircraft Model -->
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Aircraft Model *</mat-label>
          <mat-select formControlName="aircraftModel" [disabled]="submitting()">
            <mat-option *ngFor="let option of aircraftModelOptions" [value]="option.key">
              {{option.value}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="isFieldInvalid('aircraftModel')">
            {{ getErrorMessage('aircraftModel') }}
          </mat-error>
        </mat-form-field>

        <!-- Cockpit Area -->
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Cockpit Area *</mat-label>
          <mat-select formControlName="cockpitArea" [disabled]="submitting()">
            <mat-option *ngFor="let option of cockpitAreaOptions" [value]="option.key">
              {{option.value}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="isFieldInvalid('cockpitArea')">
            {{ getErrorMessage('cockpitArea') }}
          </mat-error>
        </mat-form-field>

        <!-- Owner -->
        <mat-form-field appearance="outline" class="form-field">
          <mat-label>Owner *</mat-label>
          <mat-select formControlName="owner" [disabled]="submitting()">
            <mat-option *ngFor="let option of ownerOptions" [value]="option.key">
              {{option.value}}
            </mat-option>
          </mat-select>
          <mat-error *ngIf="isFieldInvalid('owner')">
            {{ getErrorMessage('owner') }}
          </mat-error>
        </mat-form-field>

        <!-- Submit Button -->
        <div class="form-actions">
          <button
            type="submit"
            mat-raised-button
            color="primary"
            [disabled]="addHardwarePanelForm.invalid || submitting()"
            class="submit-button">
            <mat-icon *ngIf="!submitting()">save</mat-icon>
            <mat-spinner *ngIf="submitting()" diameter="20"></mat-spinner>
            {{ submitting() ? 'Saving...' : 'Save Panel' }}
          </button>
        </div>

      </form>
    </div>

  </opena3xx-loading-wrapper>

</opena3xx-page-layout>
